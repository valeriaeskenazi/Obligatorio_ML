{"openapi":"3.1.0","info":{"title":"Food Octagon Detection API","description":"API to detect warning octagons in food images using LeNet_1 model","version":"1.0.0"},"paths":{"/predict/single":{"post":{"tags":["prediction"],"summary":"Predict Single Image","description":"Analyze a single food image to detect warning octagons.\nReturns: True if octagon detected, False if no octagon","operationId":"predict_single_image_predict_single_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_predict_single_image_predict_single_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PredictionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/predict/batch":{"post":{"tags":["prediction"],"summary":"Predict Batch Images","description":"Analyze multiple food images to detect warning octagons in batch (max 10 files).","operationId":"predict_batch_images_predict_batch_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_predict_batch_images_predict_batch_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchPredictionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root endpoint","description":"Welcome message for the API","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health check","description":"Check if the API and LeNet_1 model are working properly","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthCheckResponse"}}}}}}},"/model/info":{"get":{"summary":"Get model information","description":"Get detailed information about the loaded model","operationId":"get_model_info_model_info_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"BatchPredictionResponse":{"properties":{"results":{"items":{"anyOf":[{"$ref":"#/components/schemas/PredictionResponse"},{"$ref":"#/components/schemas/ErrorResponse"}]},"type":"array","title":"Results"},"total_processed":{"type":"integer","title":"Total Processed"},"octagon_count":{"type":"integer","title":"Octagon Count"},"no_octagon_count":{"type":"integer","title":"No Octagon Count"}},"type":"object","required":["results","total_processed","octagon_count","no_octagon_count"],"title":"BatchPredictionResponse"},"Body_predict_batch_images_predict_batch_post":{"properties":{"files":{"items":{"type":"string","format":"binary"},"type":"array","title":"Files"}},"type":"object","required":["files"],"title":"Body_predict_batch_images_predict_batch_post"},"Body_predict_single_image_predict_single_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_predict_single_image_predict_single_post"},"ErrorResponse":{"properties":{"filename":{"type":"string","title":"Filename"},"error":{"type":"string","title":"Error"}},"type":"object","required":["filename","error"],"title":"ErrorResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthCheckResponse":{"properties":{"status":{"type":"string","title":"Status"},"model_loaded":{"type":"boolean","title":"Model Loaded"},"message":{"type":"string","title":"Message"}},"type":"object","required":["status","model_loaded","message"],"title":"HealthCheckResponse"},"PredictionResponse":{"properties":{"filename":{"type":"string","title":"Filename"},"has_octagon":{"type":"boolean","title":"Has Octagon"},"confidence":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Confidence"},"message":{"type":"string","title":"Message"}},"type":"object","required":["filename","has_octagon","message"],"title":"PredictionResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}